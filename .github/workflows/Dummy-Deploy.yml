name: Dummy Deploy Workflow

on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'Vilken miljö vill du driftsätta till?'
        required: true
        type: choice
        options:
          - DEVELOPMENT
          - PRODUCTION

jobs:
  deploy:
    name: Deploy to ${{ inputs.environment }}
    environment: ${{ inputs.environment }}
    runs-on: ubuntu-latest

    steps:
      # STEG 1: Skriver ut miljönamnet
      - name: Print environment name
        run: echo "Deploy till ${{ github.environment }}"

      # STEG 2: Skriver ut hemligheten
      - name: Visa maskerad hemlighet
        env:
          # Mappar hemligheten till en variabel
          MY_API_KEY: ${{ secrets.MY_API_KEY }}
          
        # 'run:' är korrekt indenterad och använder variabeln
        run: echo "Värdet på hemligheten är: $MY_API_KEY"
